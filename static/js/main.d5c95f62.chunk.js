(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n.n(c),r=n(47),s=n.n(r),i=n(11),o=n(36),u=n(14),j=n(17),l=n(33),b=n(26),O=n(6),d=function(e){var t=e.userName;return Object(O.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[Object(O.jsx)("li",{children:Object(O.jsx)(o.b,{to:"/",style:{marginRight:10},children:Object(O.jsx)(j.a,{icon:l.c,color:"#04AAFF",size:"2x"})})}),Object(O.jsx)("li",{children:Object(O.jsxs)(o.b,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12},children:[Object(O.jsx)(j.a,{icon:b.e,color:"#04AAFF",size:"2x"}),Object(O.jsx)("span",{style:{marginTop:10},children:t?"".concat(t,"\uc758 Profile"):"Profile"})]})})]})},p=n(0),f=n.n(p),h=n(1),x="nweets",m=n(51),v=n(27),g=n(25),y=n(30);Object(m.a)({apiKey:"AIzaSyC8Qp5dDOoYfeEGMezmgX22prxc41vfi4U",authDomain:"nwitter-9532e.firebaseapp.com",projectId:"nwitter-9532e",storageBucket:"nwitter-9532e.appspot.com",messagingSenderId:"1062709878889",appId:"1:1062709878889:web:94ff5dedc3713bf9c682f8"});var w=Object(v.d)(),N=Object(g.f)(),k=new v.b,C=new v.a,I=Object(y.c)(),F=Object(g.b)(N,x),S=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),o=s[0],u=s[1],j=Object(c.useState)(!0),l=Object(i.a)(j,2),b=l[0],d=l[1],p=Object(c.useState)(""),x=Object(i.a)(p,2),m=x[0],g=x[1],y=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?a(c):u(c)},N=function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!b){e.next=7;break}return e.next=5,Object(v.c)(w,n,o);case 5:e.next=9;break;case 7:return e.next=9,Object(v.f)(w,n,o);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),g(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:N,className:"container",children:[Object(O.jsx)("input",{type:"email",name:"email",placeholder:"email",required:!0,value:n,onChange:y,className:"authInput"}),Object(O.jsx)("input",{type:"password",name:"password",placeholder:"password",required:!0,value:o,onChange:y,className:"authInput"}),Object(O.jsx)("input",{type:"submit",className:"authInput authSubmit",value:b?"Create Account":"Log In"}),m&&Object(O.jsx)("span",{className:"authError",children:m})]}),Object(O.jsx)("span",{onClick:function(){d((function(e){return!e}))},className:"authSwitch",children:b?"Log In":"Create Account"})]})},_=function(){var e=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=k:"github"===n&&(c=C),e.next=4,Object(v.g)(w,c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"authContainer",children:[Object(O.jsx)(j.a,{icon:l.c,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(O.jsx)(S,{}),Object(O.jsxs)("div",{className:"authBtns",children:[Object(O.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["Continue with Google ",Object(O.jsx)(j.a,{icon:l.b})]}),Object(O.jsxs)("button",{onClick:e,name:"github",className:"authBtn",children:["Continue with Github ",Object(O.jsx)(j.a,{icon:l.a})]})]})]})},U=n(44),L=function(e){var t=e.nweetObj,n=e.isOwner,a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],u=Object(c.useState)(t.text),l=Object(i.a)(u,2),d=l[0],p=l[1],m=function(){o((function(e){return!e}))},v=function(){var e=Object(h.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=9;break}return e.next=4,Object(g.c)(Object(g.d)(N,x,t.id));case 4:return e.next=6,Object(y.d)(I,t.attachmentURL);case 6:return n=e.sent,e.next=9,Object(y.a)(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(f.a.mark((function e(n){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=Object(g.d)(N,x,t.id),e.next=4,Object(g.j)(c,{text:d,updatedAt:Date.now()});case 4:o(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"nweet",children:s?Object(O.jsxs)("form",{onSubmit:w,className:"container nweetEdit",children:[Object(O.jsx)("input",{value:d,placeholder:"What's on your mind?",type:"text",maxLength:120,required:!0,onChange:function(e){var t=e.target.value;p(t)},autoFocus:!0,className:"formInput"}),Object(O.jsx)("input",{type:"submit",value:"Update Nweet",className:"formBtn"}),Object(O.jsx)("span",{onClick:m,className:"formBtn cancelBtn",children:"Cancel"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:t.text}),t.attachmentURL&&Object(O.jsx)("img",{src:t.attachmentURL,alt:t.text}),n&&Object(O.jsxs)("div",{className:"nweet__actions",children:[Object(O.jsx)("span",{onClick:v,children:Object(O.jsx)(j.a,{icon:b.d})}),Object(O.jsx)("span",{onClick:m,children:Object(O.jsx)(j.a,{icon:b.a})})]})]})})},R=n(75),A=function(e){var t=e.userObj,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),l=u[0],d=u[1],p=function(){var e=Object(h.a)(f.a.mark((function e(n){var c,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r){e.next=2;break}return e.abrupt("return");case 2:if(n.preventDefault(),c="",!(l.length>0)){e.next=12;break}return a=Object(y.d)(I,"".concat(t.uid,"/").concat(Object(R.a)())),e.next=8,Object(y.e)(a,l,"data_url");case 8:return i=e.sent,e.next=11,Object(y.b)(i.ref);case 11:c=e.sent;case 12:return e.next=14,Object(g.a)(F,{text:r,createdAt:Date.now(),creatorId:t.uid,attachmentURL:c});case 14:s(""),d("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("form",{onSubmit:p,className:"factoryForm",children:[Object(O.jsxs)("div",{className:"factoryInput__container",children:[Object(O.jsx)("input",{className:"factoryInput__input",value:r,onChange:function(e){var t=e.target.value;s(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),Object(O.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),Object(O.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[Object(O.jsx)("span",{children:"Add photos"}),Object(O.jsx)(j.a,{icon:b.b})]}),Object(O.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files,n=new FileReader;n.onload=function(e){var t=e.currentTarget.result;d(t)},n.readAsDataURL(t[0])},style:{opacity:0}}),l&&Object(O.jsxs)("div",{className:"factoryForm__attachment",children:[Object(O.jsx)("img",{src:l,alt:"preview",style:{backgroundImage:l}}),Object(O.jsxs)("div",{className:"factoryForm__clear",onClick:function(e){e.preventDefault(),d("")},children:[Object(O.jsx)("span",{children:"Remove"}),Object(O.jsx)(j.a,{icon:b.c})]})]})]})},D=function(e){var t=e.userObj,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){Object(g.g)(F,(function(e){var t=e.docs.map((function(e){return Object(U.a)(Object(U.a)({},e.data()),{},{id:e.id})}));s(t)}))}),[]),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(A,{userObj:t}),Object(O.jsx)("div",{style:{marginTop:30},children:r.map((function(e){return Object(O.jsx)(L,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},B=function(e){var t,n=e.userObj,a=e.refreshUser,r="https://cdn-icons-png.flaticon.com/512/1177/1177568.png",s=Object(c.useState)(null!==(t=n.displayName)&&void 0!==t?t:""),o=Object(i.a)(s,2),l=o[0],d=o[1],p=Object(c.useState)(n.photoURL),x=Object(i.a)(p,2),m=x[0],N=x[1];Object(c.useEffect)((function(){S()}),[]);var k=Object(u.f)(),C=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.h)(w);case 2:k.push("/");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.i)(F,Object(g.k)("creatorId","==",n.uid),Object(g.h)("createdAt")),e.next=3,Object(g.e)(t);case 3:e.sent.forEach((function(e){console.log(e.data())}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(f.a.mark((function e(t){var c,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c="",!(m&&m.length>0)){e.next=10;break}return r=Object(y.d)(I,"".concat(n.uid,"/").concat(Object(R.a)())),e.next=6,Object(y.e)(r,m,"data_url");case 6:return s=e.sent,e.next=9,Object(y.b)(s.ref);case 9:c=e.sent;case 10:return e.next=12,Object(v.i)(w.currentUser,{displayName:l,photoURL:c});case 12:a();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)("form",{onSubmit:_,className:"profileForm",children:[Object(O.jsx)("input",{type:"text",value:l,autoFocus:!0,onChange:function(e){var t=e.target.value;d(t)}}),Object(O.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"profileForm__attachment",children:[Object(O.jsx)("img",{src:null!==m&&void 0!==m?m:r,alt:"profileImage",style:{backgroundImage:null!==m&&void 0!==m?m:r}}),Object(O.jsxs)("div",{className:"profileForm__edit",children:[Object(O.jsxs)("span",{onClick:function(e){e.preventDefault(),N(null)},children:[Object(O.jsx)("span",{children:"Remove"}),Object(O.jsx)(j.a,{icon:b.c})]}),Object(O.jsxs)("span",{children:[Object(O.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[Object(O.jsx)("span",{children:"Edit photo"}),Object(O.jsx)(j.a,{icon:b.b})]}),Object(O.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files,n=new FileReader;n.onload=function(e){var t=e.currentTarget.result;N(t)},n.readAsDataURL(t[0])},style:{opacity:0,height:0}})]})]})]})})]}),Object(O.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:C,children:"Log Out"})]})},E=function(e){var t=e.isLoggedIn,n=e.userObj,c=e.refreshUser;return Object(O.jsxs)(o.a,{children:[t&&Object(O.jsx)(d,{userName:n.displayName}),Object(O.jsx)(u.c,{children:Object(O.jsx)(O.Fragment,{children:t?Object(O.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[Object(O.jsx)(u.a,{exact:!0,path:"/",children:Object(O.jsx)(D,{userObj:n})}),Object(O.jsx)(u.a,{exact:!0,path:"/profile",children:Object(O.jsx)(B,{userObj:n,refreshUser:c})})]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(u.a,{exact:!0,path:"/",children:Object(O.jsx)(_,{})})})})})]})};var z=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),o=s[0],u=s[1];return Object(c.useEffect)((function(){Object(v.e)(w,(function(e){u(e?{displayName:e.displayName,uid:e.uid,photoURL:e.photoURL}:null),a(!0)}))}),[]),Object(O.jsxs)(O.Fragment,{children:[n?Object(O.jsx)(E,{isLoggedIn:null!==o,userObj:o,refreshUser:function(){var e=w.currentUser;u({displayName:e.displayName,uid:e.uid,photoURL:e.photoURL})}}):"initialize....",Object(O.jsxs)("footer",{children:["\xa9 ",(new Date).getFullYear()," mijeong"]})]})};n(73);s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(z,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.d5c95f62.chunk.js.map